<!-- –§–æ—Ä–º–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤–∏–¥–µ–æ -->
<div id="video-generation-form" class="space-y-6">

  <!-- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å I2V / T2V -->
  <div id="video-mode-block">
    <label class="block text-sm font-medium mb-2 sm:mb-3">–†–µ–∂–∏–º –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏</label>
    <div class="inline-flex rounded-xl bg-[var(--bord)] p-1 gap-1 w-full sm:w-auto">
      <!-- I2V - –§–æ—Ç–æ/–í–∏–¥–µ–æ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
      <button type="button" class="video-source-tab video-source-i2v active flex-1 sm:flex-initial px-2.5 xs:px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg transition-all duration-200 flex items-center justify-center gap-1.5 sm:gap-2 text-xs sm:text-sm font-medium" data-source="i2v" title="–§–æ—Ç–æ/–í–∏–¥–µ–æ">
        <div class="relative flex-shrink-0">
          <!-- Photo icon -->
          <svg class="source-icon w-4 h-4 sm:w-5 sm:h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true">
            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
            <circle cx="8.5" cy="8.5" r="1.5" fill="currentColor"/>
            <polyline points="21 15 16 10 5 21"/>
          </svg>
          <!-- Elegant orange sparkle -->
          <svg class="sparkle-icon absolute -top-1 -left-1 w-2.5 h-2.5 sm:w-3 sm:h-3" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
            <path d="M12 2l2.2 4.6L19 9l-4.8 2.4L12 16l-2.2-4.6L5 9l4.8-2.4L12 2z"></path>
          </svg>
        </div>
        <span class="whitespace-nowrap" style="display: inline-block !important; visibility: visible !important; opacity: 1 !important; max-width: none !important; overflow: visible !important;">–§–æ—Ç–æ/–í–∏–¥–µ–æ</span>
      </button>

      <!-- T2V - –¢–µ–∫—Å—Ç/–í–∏–¥–µ–æ -->
      <button type="button" class="video-source-tab flex-1 sm:flex-initial px-2.5 xs:px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg transition-all duration-200 flex items-center justify-center gap-1.5 sm:gap-2 text-xs sm:text-sm font-medium" data-source="t2v" title="–¢–µ–∫—Å—Ç/–í–∏–¥–µ–æ">
        <svg class="source-icon w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
          <path d="M23 7l-7 5 7 5V7z"/>
          <rect x="1" y="5" width="15" height="14" rx="2" ry="2"/>
        </svg>
        <span class="whitespace-nowrap" style="display: inline-block !important; visibility: visible !important; opacity: 1 !important; max-width: none !important; overflow: visible !important;">–¢–µ–∫—Å—Ç/–í–∏–¥–µ–æ</span>
      </button>
    </div>
  </div>

  <style id="video-tab-force-visible-v3">
    /* Video source tabs - ULTRA FORCED VISIBILITY - v3 */
    .video-source-tab,
    button.video-source-tab,
    .video-source-tab.active,
    button.video-source-tab.active {
      cursor: pointer !important;
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1) !important;
      background: transparent !important;
      border: none !important;
      position: relative !important;
      overflow: visible !important;
      max-width: none !important;
      width: auto !important;
    }

    .video-source-tab span,
    .video-source-tab span.whitespace-nowrap,
    .video-source-tab.active span,
    .video-source-tab.active span.whitespace-nowrap,
    button.video-source-tab span,
    button.video-source-tab span.whitespace-nowrap,
    button.video-source-tab.active span,
    button.video-source-tab.active span.whitespace-nowrap {
      display: inline-block !important;
      visibility: visible !important;
      opacity: 1 !important;
      font-size: 0.75rem !important;
      color: inherit !important;
      max-width: none !important;
      width: auto !important;
      overflow: visible !important;
      text-overflow: clip !important;
      white-space: nowrap !important;
      content: attr(data-text) !important;
    }

    @media (min-width: 640px) {
      .video-source-tab span,
      .video-source-tab span.whitespace-nowrap {
        font-size: 0.875rem !important;
      }
    }

    .video-source-tab .source-icon {
      color: var(--muted);
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .video-source-tab.active {
      background: var(--bg-card);
      box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
    }

    :root[data-theme="dark"] .video-source-tab.active {
      background: rgba(255, 255, 255, 0.1);
      box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.3);
    }

    /* Default T2V styling */
    .video-source-tab.active .source-icon {
      color: var(--primary);
      filter: drop-shadow(0 0 6px rgba(99, 102, 241, 0.4));
    }

    /* Special I2V "–û–∂–∏–≤–∏—Ç—å —Ñ–æ—Ç–æ" styling with elegant orange sparkle */
    .video-source-i2v .sparkle-icon {
      opacity: 0;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      color: #f59e0b; /* amber-500 */
      filter: drop-shadow(0 0 2px rgba(245, 158, 11, 0.6));
    }

    .video-source-i2v.active .source-icon {
      color: #f97316; /* orange-500 */
      filter: drop-shadow(0 0 8px rgba(249, 115, 22, 0.5));
    }

    .video-source-i2v.active .sparkle-icon {
      opacity: 1;
      color: #fbbf24; /* amber-400 */
      filter: drop-shadow(0 0 6px rgba(251, 191, 36, 0.9));
      animation: sparkle 2s ease-in-out infinite;
    }

    @keyframes sparkle {
      0%, 100% {
        transform: scale(1) rotate(0deg);
        opacity: 1;
      }
      50% {
        transform: scale(1.15) rotate(10deg);
        opacity: 0.92;
      }
    }

    /* Hover states */
    .video-source-tab:hover:not(.active) {
      background: rgba(0, 0, 0, 0.05);
    }

    :root[data-theme="dark"] .video-source-tab:hover:not(.active) {
      background: rgba(255, 255, 255, 0.05);
    }

    .video-source-tab:hover:not(.active) .source-icon {
      color: var(--fg);
    }

    /* Responsive breakpoint for xs (475px) */
    @media (min-width: 475px) {
      .xs\:inline {
        display: inline !important;
      }
      .xs\:px-3 {
        padding-left: 0.75rem !important;
        padding-right: 0.75rem !important;
      }
    }

    /* Ultra-small screens (320px) - keep text visible */
    @media (max-width: 374px) {
      .video-source-tab {
        font-size: 0.65rem;
        padding-left: 0.5rem !important;
        padding-right: 0.5rem !important;
      }
      .video-source-tab .source-icon {
        width: 0.75rem;
        height: 0.75rem;
      }
      .video-source-i2v .sparkle-icon {
        width: 0.5rem;
        height: 0.5rem;
      }
      .video-source-tab span {
        font-size: 0.65rem;
      }
    }
  </style>

  <!-- –û–ø–∏—Å–∞–Ω–∏–µ —Å—Ü–µ–Ω—ã -->
  <div>
    <div class="flex items-center justify-between mb-3">
      <label class="block text-sm font-medium" for="video-prompt">–û–ø–∏—Å–∞–Ω–∏–µ —Å—Ü–µ–Ω—ã</label>
      <div class="inline-flex items-center gap-2">
        <span class="text-[11px] sm:text-xs text-[var(--muted)]">–ê–≤—Ç–æ–ø–µ—Ä–µ–≤–æ–¥</span>
        <button
          type="button"
          id="auto-translate-toggle"
          class="relative inline-flex h-6 w-11 items-center rounded-full bg-[var(--bord)] ring-1 ring-[var(--bord)] transition focus:outline-none focus:ring-2 focus:ring-primary/50"
          aria-pressed="true"
          aria-label="–ê–≤—Ç–æ–ø–µ—Ä–µ–≤–æ–¥">
          <span class="sr-only">–ê–≤—Ç–æ–ø–µ—Ä–µ–≤–æ–¥</span>
          <span class="dot translate-x-5 inline-block h-5 w-5 transform rounded-full bg-white shadow transition"></span>
        </button>
      </div>
    </div>
    <textarea
      id="video-prompt"
      class="field w-full min-h-28 resize-none"
      placeholder="–ü—Ä–∏–º–µ—Ä: cinematic dusk city, neon reflections, slow orbit camera, moody atmosphere"
      maxlength="1500"></textarea>

    <div class="mt-3">
      <div class="inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-[var(--bord)]/60">
        <svg class="w-4 h-4 text-primary" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M12 2a10 10 0 100 20 10 10 0 000-20z"/>
        </svg>
        <span class="text-[var(--text)]">–°–æ–≤–µ—Ç: –æ–ø–∏—à–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ, –¥–≤–∏–∂–µ–Ω–∏–µ –∫–∞–º–µ—Ä—ã –∏ –∞—Ç–º–æ—Å—Ñ–µ—Ä—É</span>
      </div>
    </div>

    <!-- Enhanced Prompt Generator for Video - Simplified UI -->
    <div id="pg-video" class="mt-2 flex items-center justify-end gap-3">
      <span id="pg-video-status" class="text-xs text-[var(--muted)] hidden"></span>
      <button
        type="button"
        id="pg-video-btn"
        class="btn btn-primary text-sm"
        title="–£–ª—É—á—à–∏—Ç—å –ø—Ä–æ–º–ø—Ç —Å –ø–æ–º–æ—â—å—é AI">
        <svg id="pg-video-loading" class="hidden animate-spin h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <circle cx="12" cy="12" r="10" stroke-width="4" class="opacity-25"/>
          <path d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" fill="currentColor"/>
        </svg>
        <svg id="pg-video-icon" class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"/>
        </svg>
        <span>–£–ª—É—á—à–∏—Ç—å –ø—Ä–æ–º–ø—Ç</span>
      </button>
    </div>


  </div>

  <!-- I2V: –ö–æ–º–ø–∞–∫—Ç–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ –ø–æ–¥ –ø—Ä–æ–º–ø—Ç–æ–º -->
  <!-- I2V: –ò—Å—Ö–æ–¥–Ω–æ–µ —Ñ–æ—Ç–æ -->
  <div id="i2v-upload-compact" style="display:none" class="space-y-3 p-4 rounded-lg border border-[var(--bord)] bg-[var(--bg-card)]">
    <div class="flex items-start gap-3">
      <div class="flex-shrink-0 w-10 h-10 rounded-lg bg-gradient-to-br from-primary/10 to-primary/5 flex items-center justify-center">
        <svg class="w-5 h-5 text-primary" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
        </svg>
      </div>
      <div class="flex-1">
        <label class="block text-sm font-semibold text-[var(--text)] mb-1">
          –ò—Å—Ö–æ–¥–Ω–æ–µ —Ñ–æ—Ç–æ
        </label>
        <p class="text-xs text-[var(--muted)] leading-relaxed">–ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–æ. AI —Å–æ–∑–¥–∞—Å—Ç –≤–∏–¥–µ–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ —ç—Ç–æ–≥–æ —Ñ–æ—Ç–æ.</p>
      </div>
    </div>
    <div class="flex items-center gap-2">
      <input type="file" id="video-source-image" accept="image/*" class="hidden">
      <button type="button" onclick="document.getElementById('video-source-image').click()" class="flex-1 flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg border-2 border-dashed border-[var(--bord)] hover:border-primary hover:bg-primary/5 transition-all duration-200 text-sm font-medium group">
        <svg class="w-4 h-4 text-[var(--muted)] group-hover:text-primary transition-colors" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"/>
        </svg>
        <span id="i2v-file-name" class="text-[var(--text)]">–í—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª</span>
      </button>
      <button type="button" id="remove-video-image" class="hidden p-2.5 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 text-red-600 dark:text-red-400 transition-colors">
        <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"/>
        </svg>
      </button>
    </div>
    <div class="flex items-center gap-1.5 text-xs text-[var(--muted)]">
      <svg class="w-3.5 h-3.5 flex-shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="12" cy="12" r="10"/>
        <path d="M12 16v-4M12 8h.01"/>
      </svg>
      <span>JPG, PNG, WEBP ‚Ä¢ –ú–∞–∫—Å. 10MB ‚Ä¢ –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 1024x1024</span>
    </div>
  </div>

  <!-- T2V: –†–µ—Ñ–µ—Ä–µ–Ω—Å–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ -->
  <div id="t2v-references-section" style="display:none" class="space-y-3 p-4 rounded-lg border border-[var(--bord)] bg-[var(--bg-card)] mt-4">
    <div class="flex items-start gap-3">
      <div class="flex-shrink-0 w-10 h-10 rounded-lg bg-gradient-to-br from-purple-500/10 to-purple-500/5 flex items-center justify-center">
        <svg class="w-5 h-5 text-purple-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
        </svg>
      </div>
      <div class="flex-1">
        <label class="block text-sm font-semibold text-[var(--text)] mb-1">
          –†–µ—Ñ–µ—Ä–µ–Ω—Å–Ω–æ–µ —Ñ–æ—Ç–æ <span class="text-[var(--muted)] font-normal">(–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</span>
        </label>
        <p class="text-xs text-[var(--muted)] leading-relaxed">–î–æ–±–∞–≤—å—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è –∑–∞–¥–∞–Ω–∏—è —Å—Ç–∏–ª—è, –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è –±—É–¥—É—â–µ–≥–æ –≤–∏–¥–µ–æ.</p>
      </div>
    </div>
    <div class="flex items-center gap-2">
      <input type="file" id="t2v-reference-images" accept="image/*" class="hidden">
      <button type="button" onclick="document.getElementById('t2v-reference-images').click()" class="flex-1 flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg border-2 border-dashed border-[var(--bord)] hover:border-purple-500 hover:bg-purple-500/5 transition-all duration-200 text-sm font-medium group">
        <svg class="w-4 h-4 text-[var(--muted)] group-hover:text-purple-500 transition-colors" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"/>
        </svg>
        <span id="t2v-file-name" class="text-[var(--text)]">–í—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª</span>
      </button>
      <button type="button" id="remove-t2v-reference" class="hidden p-2.5 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 text-red-600 dark:text-red-400 transition-colors">
        <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"/>
        </svg>
      </button>
    </div>
    <div class="flex items-center gap-1.5 text-xs text-[var(--muted)]">
      <svg class="w-3.5 h-3.5 flex-shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="12" cy="12" r="10"/>
        <path d="M12 16v-4M12 8h.01"/>
      </svg>
      <span>JPG, PNG, WEBP ‚Ä¢ –ú–∞–∫—Å. 10MB ‚Ä¢ –í–ª–∏—è–µ—Ç –Ω–∞ —Å—Ç–∏–ª—å –∏ –∫–æ–º–ø–æ–∑–∏—Ü–∏—é</span>
    </div>
  </div>

  <!-- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ - –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π –±–ª–æ–∫ -->
  <div class="space-y-2 sm:space-y-3">

    <!-- –ú–æ–¥–µ–ª—å —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º -->
    <div class="space-y-1" id="video-model-section">
      <label class="block text-xs sm:text-sm font-medium mb-1.5">
        <span class="flex items-center gap-1.5">
          <svg class="w-3.5 h-3.5 flex-shrink-0 text-primary dark:text-primary/90" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
          </svg>
          <span class="text-xs sm:text-sm">–ú–æ–¥–µ–ª—å</span>
        </span>
      </label>

      <!-- –•—Ä–∞–Ω–∏–º –≤—ã–±—Ä–∞–Ω–Ω—É—é –º–æ–¥–µ–ª—å –¥–ª—è —Å–∞–±–º–∏—Ç–∞ -->
      <input type="hidden" id="video-model" value="">

      <!-- –ì—Ä–∏–¥ –∫–∞—Ä—Ç–æ—á–µ–∫ –º–æ–¥–µ–ª–µ–π -->
      <div id="model-cards" class="grid grid-cols-1 xs:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-3"></div>
    </div>

    <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏ -->
    <div id="model-info-section" class="hidden rounded-xl border border-[var(--bord)] bg-[var(--bg-card)] p-3 sm:p-4 space-y-3">
      <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å –∏–∫–æ–Ω–∫–æ–π -->
      <div class="flex items-start gap-3">
        <div class="flex-shrink-0 w-10 h-10 sm:w-12 sm:h-12 rounded-lg bg-gradient-to-br from-primary/20 to-primary/5 flex items-center justify-center">
          <svg class="w-5 h-5 sm:w-6 sm:h-6 text-primary" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
          </svg>
        </div>
        <div class="flex-1 min-w-0">
          <h3 id="model-info-name" class="text-sm sm:text-base font-semibold text-[var(--text)] mb-1"></h3>
          <p id="model-info-description" class="text-xs sm:text-sm text-[var(--muted)] line-clamp-2"></p>
        </div>
      </div>

      <!-- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–¥–µ–ª–∏ -->
      <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2 sm:gap-3 pt-2 border-t border-[var(--bord)]">
        <!-- –°—Ç–æ–∏–º–æ—Å—Ç—å -->
        <div class="flex items-center gap-2 px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg bg-[var(--bord)]/40">
          <svg class="w-3.5 h-3.5 sm:w-4 sm:h-4 text-amber-500 flex-shrink-0" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16z"/>
          </svg>
          <div class="flex-1 min-w-0">
            <div class="text-[10px] sm:text-xs text-[var(--muted)] leading-tight">–°—Ç–æ–∏–º–æ—Å—Ç—å</div>
            <div id="model-info-cost" class="text-xs sm:text-sm font-semibold text-[var(--text)] truncate">‚Äî TOK</div>
          </div>
        </div>

        <!-- –ú–∞–∫—Å. –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å -->
        <div class="flex items-center gap-2 px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg bg-[var(--bord)]/40">
          <svg class="w-3.5 h-3.5 sm:w-4 sm:h-4 text-blue-500 flex-shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="10"/>
            <path d="M12 6v6l4 2"/>
          </svg>
          <div class="flex-1 min-w-0">
            <div class="text-[10px] sm:text-xs text-[var(--muted)] leading-tight">–ú–∞–∫—Å. –≤—Ä–µ–º—è</div>
            <div id="model-info-duration" class="text-xs sm:text-sm font-semibold text-[var(--text)] truncate">‚Äî —Å–µ–∫</div>
          </div>
        </div>

        <!-- –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ -->
        <div class="flex items-center gap-2 px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg bg-[var(--bord)]/40">
          <svg class="w-3.5 h-3.5 sm:w-4 sm:h-4 text-purple-500 flex-shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="2" y="3" width="20" height="14" rx="2"/>
            <path d="M8 21h8M12 17v4"/>
          </svg>
          <div class="flex-1 min-w-0">
            <div class="text-[10px] sm:text-xs text-[var(--muted)] leading-tight">–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ</div>
            <div id="model-info-resolution" class="text-xs sm:text-sm font-semibold text-[var(--text)] truncate">‚Äî</div>
          </div>
        </div>

        <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏—è -->
        <div class="flex items-center gap-2 px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg bg-[var(--bord)]/40">
          <svg class="w-3.5 h-3.5 sm:w-4 sm:h-4 text-green-500 flex-shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343"/>
            <path d="M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"/>
          </svg>
          <div class="flex-1 min-w-0">
            <div class="text-[10px] sm:text-xs text-[var(--muted)] leading-tight">–¢–∏–ø</div>
            <div id="model-info-category" class="text-xs sm:text-sm font-semibold text-[var(--text)] truncate">‚Äî</div>
          </div>
        </div>
      </div>

      <!-- –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ -->
      <div id="model-info-features" class="pt-2 border-t border-[var(--bord)]">
        <div class="text-[10px] sm:text-xs font-medium text-[var(--muted)] mb-2">–î–æ—Å—Ç—É–ø–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:</div>
        <div class="flex flex-wrap gap-1.5 sm:gap-2" id="model-features-list">
          <!-- –ë—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–æ JS -->
        </div>
      </div>
    </div>

    <!-- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤–∏–¥–µ–æ -->
    <div class="card p-6 mt-6" id="video-params-section">
      <h3 class="text-lg font-semibold mb-4">–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏</h3>

      <!-- –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã -->
      <div class="space-y-4 mb-6">

        <!-- –°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Å—Ç–æ—Ä–æ–Ω (–ø–æ–ª–∑—É–Ω–æ–∫ –∫–∞–∫ —É —Ñ–æ—Ç–æ) -->
        <div id="video-aspect-ratio-field" class="field-container">
          <div id="video-aspect-ratio-slider-container"></div>
        </div>

        <!-- –ö–∞—á–µ—Å—Ç–≤–æ / –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ -->
        <div id="video-quality-field" class="field-container">
          <label class="block text-sm font-medium mb-2 flex items-center gap-2">
            <svg class="w-4 h-4 text-primary" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
            </svg>
            –ö–∞—á–µ—Å—Ç–≤–æ
          </label>
          <select id="video-quality-selector" name="video_quality" class="field w-full px-4 py-2.5 bg-[var(--bg-card)] border-2 border-[var(--bord)] rounded-xl text-[var(--text)] font-medium transition-all duration-200 hover:border-primary/50 focus:border-primary focus:ring-2 focus:ring-primary/20 cursor-pointer">
            <option value="">–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Å—Ç–æ—Ä–æ–Ω...</option>
          </select>
        </div>

        <!-- –°–∫—Ä—ã—Ç—ã–µ –ø–æ–ª—è –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è -->
        <input type="hidden" id="video-resolution-width" name="width">
        <input type="hidden" id="video-resolution-height" name="height">

        <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–∞–∑–º–µ—Ä–∞—Ö –≤–∏–¥–µ–æ -->
        <div id="video-dimensions-info" class="px-4 py-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg" style="display:none;">
          <div class="flex items-center gap-2 text-sm">
            <svg class="w-4 h-4 text-blue-600 dark:text-blue-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10"/>
              <line x1="12" y1="16" x2="12" y2="12"/>
              <line x1="12" y1="8" x2="12.01" y2="8"/>
            </svg>
            <span class="text-blue-800 dark:text-blue-200">
              –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ: <strong><span id="video-dimensions-display">‚Äî</span></strong>
            </span>
          </div>
        </div>

        <!-- –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å -->
        <div id="duration-section" class="field-container">
          <label class="block text-sm font-medium mb-2 flex items-center gap-2">
            <svg class="w-4 h-4 text-primary" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10"/>
              <path d="M12 6v6l4 2"/>
            </svg>
            –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
          </label>
          <div id="duration-options" class="flex flex-wrap gap-2">
            <!-- –ö–Ω–æ–ø–∫–∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –±—É–¥—É—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã JS -->
          </div>
          <input type="hidden" id="video-duration" value="5">
        </div>
      </div>

      <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (—à—Ç–æ—Ä–∫–∞ –∫–∞–∫ —É —Ñ–æ—Ç–æ) -->
      <div class="border-t border-[var(--bord)] pt-4">
        <button type="button" id="toggle-video-advanced-params" class="w-full flex items-center justify-between px-4 py-3 bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors">
          <span class="text-sm font-medium text-gray-700 dark:text-gray-300">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</span>
          <svg class="w-5 h-5 text-gray-500 dark:text-gray-400 transition-transform duration-200" id="video-advanced-params-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg>
        </button>

        <div id="video-advanced-params-content" class="hidden mt-4 space-y-4 pl-4 border-l-2 border-gray-200 dark:border-gray-700">

          <!-- –î–≤–∏–∂–µ–Ω–∏–µ –∫–∞–º–µ—Ä—ã -->
          <div id="video-camera-field" class="field-container">
            <label class="block text-sm font-medium mb-2">–î–≤–∏–∂–µ–Ω–∏–µ –∫–∞–º–µ—Ä—ã</label>
            <select id="video-camera" class="field w-full">
              <option value="">–ê–≤—Ç–æ</option>
              <option value="static">Static (—Å—Ç–∞—Ç–∏—á–Ω–∞—è)</option>
              <option value="slow pan">Slow Pan (–ø–∞–Ω–æ—Ä–∞–º–∞)</option>
              <option value="orbit">Orbit (–æ—Ä–±–∏—Ç–∞)</option>
              <option value="dolly">Dolly (–Ω–∞–µ–∑–¥/–æ—Ç—ä–µ–∑–¥)</option>
            </select>
          </div>

          <!-- Seed -->
          <div id="video-seed-field" class="field-container">
            <label class="block text-sm font-medium mb-2">Seed (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</label>
            <input type="text" id="video-seed" class="field w-full" placeholder="–°–ª—É—á–∞–π–Ω—ã–π">
          </div>

          <!-- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∏–¥–µ–æ -->
          <div id="video-quantity-container" class="field-container">
            <label class="block text-sm font-medium mb-2">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∏–¥–µ–æ</label>
            <div class="moon-slider-container">
              <div class="flex items-center gap-3 sm:gap-4">
                <input
                  type="range"
                  id="video-quantity"
                  name="number_videos"
                  class="moon-slider flex-1"
                  min="1"
                  max="4"
                  value="1"
                  step="1"
                  data-value-id="video-quantity-value"
                >
                <div class="moon-slider-value">
                  <span id="video-quantity-value" class="moon-slider-value-number">1</span>
                  <span class="moon-slider-value-unit">–≤–∏–¥–µ–æ</span>
                </div>
              </div>
              <p class="text-[10px] sm:text-xs text-[var(--muted)] mt-1">
                üí° –¶–µ–Ω–∞ —É–º–Ω–æ–∂–∞–µ—Ç—Å—è –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∏–¥–µ–æ
              </p>
            </div>
          </div>

        </div>
      </div>
    </div>

    <!-- Provider Fields (–±—É–¥—É—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ JS) -->
    <div id="video-provider-fields-section"></div>

  <style>
    /* –£–ª—É—á—à–µ–Ω–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è select - —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –Ω–∞ –æ–±–µ–∏—Ö —Ç–µ–º–∞—Ö */
    .field select {
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%236366f1'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 0.5rem center;
      background-size: 1.25rem;
      padding-right: 2.5rem;
      color: var(--text) !important;
      text-shadow: 0 1px 1px rgba(0, 0, 0, 0.5);
    }

    :root[data-theme="dark"] .field select {
      color: #ffffff !important;
      background-color: #1f2937 !important;
    }

    :root[data-theme="light"] .field select {
      color: #000000 !important;
      background-color: #ffffff !important;
    }

    /* –£—Å–∏–ª–µ–Ω–∏–µ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è */
    .field select option:checked {
      color: white !important;
      background: #6366f1 !important;
    }

    /* Optgroup —Å—Ç–∏–ª–∏ –¥–ª—è –ª—É—á—à–µ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ */
    .field select optgroup {
      font-weight: 600;
      font-size: 0.875rem;
      padding: 0.5rem 0;
      background: transparent;
      color: inherit !important;
    }

    :root[data-theme="dark"] .field select optgroup {
      background: rgba(255, 255, 255, 0.08) !important;
      color: #e5e7eb !important;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    :root[data-theme="light"] .field select optgroup {
      background: rgba(0, 0, 0, 0.04) !important;
      color: #374151 !important;
      border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    }

    .field select option {
      padding: 0.75rem 0.5rem;
      font-size: 0.875rem;
      color: inherit !important;
    }

    :root[data-theme="dark"] .field select option {
      background: #1f2937 !important;
      color: #f9fafb !important;
      border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    }

    :root[data-theme="dark"] .field select option:checked {
      background: #6366f1 !important;
      color: white !important;
    }

    :root[data-theme="light"] .field select option {
      background: #ffffff !important;
      color: #111827 !important;
      border-bottom: 1px solid rgba(0, 0, 0, 0.05);
    }

    :root[data-theme="light"] .field select option:checked {
      background: #6366f1 !important;
      color: white !important;
    }

    /* Slider —Å—Ç–∏–ª–∏ ‚Äî ¬´—Å–∏–Ω—è—è –ª—É–Ω–∞¬ª, –ø–µ—Ä–µ–∫–∞—Ç—ã–≤–∞—é—â–∞—è—Å—è –ø–æ –ª–∏–Ω–∏–∏ */
    .slider-thumb {
      appearance: none;
      background: transparent;
      width: 100%;
      height: 8px;
      border-radius: 9999px;
    }

    /* WebKit thumb */
    .slider-thumb::-webkit-slider-thumb {
      appearance: none;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background:
        radial-gradient(closest-side, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.8) 40%, rgba(255,255,255,0.0) 60%),
        radial-gradient(circle at 30% 30%, #93c5fd 0%, #60a5fa 35%, #3b82f6 65%, #2563eb 100%);
      border: 2px solid rgba(255,255,255,0.75);
      box-shadow:
        0 0 0 3px rgba(59,130,246,0.15),
        0 8px 18px rgba(59,130,246,0.35),
        inset 0 -2px 4px rgba(0,0,0,0.15);
      cursor: pointer;
      transition: transform .15s ease, box-shadow .2s ease;
    }
    .slider-thumb::-webkit-slider-thumb:hover {
      transform: translateY(-1px) scale(1.05);
      box-shadow:
        0 0 0 4px rgba(59,130,246,0.2),
        0 10px 22px rgba(59,130,246,0.45),
        inset 0 -2px 4px rgba(0,0,0,0.2);
    }
    .slider-thumb::-webkit-slider-thumb:active {
      transform: scale(0.98);
      box-shadow:
        0 0 0 2px rgba(59,130,246,0.25),
        0 6px 16px rgba(59,130,246,0.35),
        inset 0 -1px 3px rgba(0,0,0,0.25);
    }

    /* Firefox thumb */
    .slider-thumb::-moz-range-thumb {
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background:
        radial-gradient(closest-side, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.8) 40%, rgba(255,255,255,0.0) 60%),
        radial-gradient(circle at 30% 30%, #93c5fd 0%, #60a5fa 35%, #3b82f6 65%, #2563eb 100%);
      border: 2px solid rgba(255,255,255,0.75);
      box-shadow:
        0 0 0 3px rgba(59,130,246,0.15),
        0 8px 18px rgba(59,130,246,0.35),
        inset 0 -2px 4px rgba(0,0,0,0.15);
      cursor: pointer;
      transition: transform .15s ease, box-shadow .2s ease;
    }
    .slider-thumb::-moz-range-thumb:hover {
      transform: translateY(-1px) scale(1.05);
      box-shadow:
        0 0 0 4px rgba(59,130,246,0.2),
        0 10px 22px rgba(59,130,246,0.45),
        inset 0 -2px 4px rgba(0,0,0,0.2);
    }
    .slider-thumb::-moz-range-thumb:active {
      transform: scale(0.98);
      box-shadow:
        0 0 0 2px rgba(59,130,246,0.25),
        0 6px 16px rgba(59,130,246,0.35),
        inset 0 -1px 3px rgba(0,0,0,0.25);
    }

    /* –¢—Ä–µ–∫ —Å ¬´–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ–º¬ª —Å–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ */
    .slider-thumb::-webkit-slider-runnable-track {
      height: 8px;
      border-radius: 9999px;
      background:
        linear-gradient(to right, rgba(59,130,246,0.85) 0%, rgba(59,130,246,0.85) var(--value, 50%), rgba(255,255,255,0.08) var(--value, 50%), rgba(255,255,255,0.08) 100%);
      box-shadow: inset 0 1px 1px rgba(255,255,255,0.06);
    }
    .slider-thumb::-moz-range-track {
      height: 8px;
      border-radius: 9999px;
      background: rgba(255,255,255,0.08);
      box-shadow: inset 0 1px 1px rgba(255,255,255,0.06);
    }
    .slider-thumb::-moz-range-progress {
      height: 8px;
      border-radius: 9999px;
      background: rgba(59,130,246,0.85);
    }

    /* –ê–¥–∞–ø—Ç–∏–≤ –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤ (320px+) */
    @media (max-width: 374px) {
      .field select,
      .field input,
      .field textarea {
        font-size: 0.75rem;
        padding-left: 0.75rem !important;
        padding-right: 0.75rem !important;
      }

      label {
        font-size: 0.75rem;
      }

      .grid {
        gap: 0.75rem !important;
      }

      .space-y-2 > * + * {
        margin-top: 0.5rem !important;
      }

      svg {
        width: 0.875rem !important;
        height: 0.875rem !important;
      }
    }

    /* –£–ª—É—á—à–µ–Ω–∏—è –≤–∏–¥–∏–º–æ—Å—Ç–∏ –≤ —Ç–µ–º–∞—Ö –¥–ª—è selects */
    :root[data-theme="dark"] .field select option:hover,
    :root[data-theme="dark"] .field select optgroup:hover {
      background: rgba(99, 102, 241, 0.2) !important;
      color: #ffffff !important;
    }

    :root[data-theme="light"] .field select option:hover,
    :root[data-theme="light"] .field select optgroup:hover {
      background: rgba(99, 102, 241, 0.1) !important;
      color: #111827 !important;
    }

    /* Placeholder —Å—Ç–∏–ª–∏ –¥–ª—è –ª—É—á—à–µ–π –≤–∏–¥–∏–º–æ—Å—Ç–∏ */
    .field input::placeholder,
    .field textarea::placeholder,
    .field select option[value=""] {
      color: #9ca3af !important;
    }

    :root[data-theme="dark"] .field input::placeholder,
    :root[data-theme="dark"] .field textarea::placeholder,
    :root[data-theme="dark"] .field select option[value=""] {
      color: #d1d5db !important;
    }

    :root[data-theme="light"] .field input::placeholder,
    :root[data-theme="light"] .field textarea::placeholder,
    :root[data-theme="light"] .field select option[value=""] {
      color: #6b7280 !important;
    }

    /* –¢–µ–∫—Å—Ç –≤ inputs –¥–ª—è —Ç–µ–º */
    .field input,
    .field textarea,
    .field select {
      color: var(--text) !important;
    }

    :root[data-theme="dark"] .field input,
    :root[data-theme="dark"] .field textarea,
    :root[data-theme="dark"] .field select {
      color: #f9fafb !important;
    }

    :root[data-theme="light"] .field input,
    :root[data-theme="light"] .field textarea,
    :root[data-theme="light"] .field select {
      color: #111827 !important;
    }

    /* I2V compact square upload */
    #i2v-upload-compact .i2v-square {
      aspect-ratio: 1 / 1;
      width: clamp(100px, 22vw, 140px); /* –µ—â—ë –∫–æ–º–ø–∞–∫—Ç–Ω–µ–µ: –º–∞–ª–µ–Ω—å–∫–∏–π –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã–π –±–ª–æ–∫ */
      position: relative;
      overflow: hidden;
      border-radius: 0.75rem;
      flex: 0 0 auto; /* –Ω–µ —Ä–∞—Å—Ç—è–≥–∏–≤–∞—Ç—å—Å—è –≤–æ —Ñ–ª–µ–∫—Å–µ */
    }
    #i2v-upload-compact .i2v-square img {
      width: 100%;
      height: 100%;
      object-fit: contain; /* –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Å—é —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é, –±–µ–∑ –æ–±—Ä–µ–∑–∫–∏ */
      background: var(--bg-card);
    }
    /* –ü–æ–¥—Å–∫–∞–∑–∫–∞ –≤–Ω—É—Ç—Ä–∏ –æ–±–ª–∞—Å—Ç–∏ –∑–∞–≥—Ä—É–∑–∫–∏ ‚Äî —Ü–µ–Ω—Ç—Ä–∏—Ä—É–µ–º –ø–æ –∫–≤–∞–¥—Ä–∞—Ç—É */
    #i2v-upload-compact #video-upload-area > .h-full {
      height: 100%;
    }
    /* –°–¥–µ–ª–∞—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª—å–Ω–æ –∫–æ–º–ø–∞–∫—Ç–Ω—ã–º–∏ –≤ –º–∞–ª–µ–Ω—å–∫–æ–º –∫–≤–∞–¥—Ä–∞—Ç–µ */
    #i2v-upload-compact #video-upload-area { padding: 0.5rem !important; }
    #i2v-upload-compact #video-upload-area svg { width: 20px; height: 20px; }

    /* Overlay remove button on preview */
    #i2v-upload-compact .i2v-remove-btn {
      position: absolute;
      top: 6px;
      right: 6px;
      width: 28px;
      height: 28px;
      border-radius: 9999px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      background: rgba(0,0,0,0.55);
      border: 1px solid rgba(255,255,255,0.25);
      color: #fff;
      cursor: pointer;
      transition: all .15s ease;
    }
    #i2v-upload-compact .i2v-remove-btn:hover {
      background: rgba(0,0,0,0.75);
      transform: scale(1.04);
      box-shadow: 0 2px 8px rgba(0,0,0,0.35);
    }
    html[data-theme="light"] #i2v-upload-compact .i2v-remove-btn {
      background: rgba(0,0,0,0.5);
      border-color: rgba(0,0,0,0.2);
    }

    /* –ö–æ–º–ø–æ–Ω–æ–≤–∫–∞: –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π –∫–≤–∞–¥—Ä–∞—Ç —Å–ª–µ–≤–∞ –æ—Ç —Ç–µ–∫—Å—Ç–∞/–ø–æ–¥—Å–∫–∞–∑–æ–∫ */
    #i2v-upload-compact {
      display: flex;
      align-items: flex-start;
      gap: 0.75rem;
    }

    /* ===== VIDEO MODEL CARDS - –í –°–¢–ò–õ–ï –°–ê–ô–¢–ê ===== */

    /* Grid System - Equal Height Cards */
    #model-cards {
      display: grid;
      grid-template-columns: 1fr;
      gap: 1rem;
      align-items: stretch;
    }

    @media (min-width: 480px) {
      #model-cards {
        grid-template-columns: repeat(2, 1fr);
        gap: 1rem;
      }
    }

    @media (min-width: 1024px) {
      #model-cards {
        grid-template-columns: repeat(3, 1fr);
        gap: 1rem;
      }
    }

    /* Model Card Wrapper */
    .model-card-wrap {
      position: relative;
      display: flex;
      flex-direction: column;
    }

    /* Model Card - Full Height */
    .model-card {
      display: flex;
      flex-direction: column;
      height: 100%;
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .model-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    [data-theme="dark"] .model-card {
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
    }

    [data-theme="dark"] .model-card:hover {
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }

    /* Selected state - blue border only for chosen card (supports data-selected and ARIA) */
    .model-card[data-selected="1"],
    .model-card.selected,
    .model-card[aria-selected="true"] {
      border-color: var(--primary) !important;
      box-shadow: 0 0 0 2px rgba(99,102,241,0.35) inset, 0 6px 16px rgba(99,102,241,0.15);
    }
    .model-card[data-selected="0"],
    .model-card[aria-selected="false"] {
      border-color: var(--bord) !important;
      box-shadow: none;
    }

    /* Responsive */
    @media (max-width: 640px) {
      #model-cards {
        gap: 0.75rem;
      }

      .model-card {
        border-radius: 0.75rem;
      }
    }

    @media (max-width: 374px) {
      #model-cards {
        gap: 0.5rem;
      }

      .model-card {
        border-radius: 0.625rem;
      }

      .model-card .grid-cols-3 {
        gap: 0.375rem;
      }
    }

    /* Line Clamp */
    .line-clamp-1 {
      display: -webkit-box;
      -webkit-line-clamp: 1;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    .line-clamp-2 {
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }
  </style>

  <!-- I2V —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø–æ–ª—è (—Å–∫—Ä—ã—Ç—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
  <div id="i2v-fields" style="display: none;">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">


      <!-- –°–∏–ª–∞ –¥–≤–∏–∂–µ–Ω–∏—è -->
      <div class="md:col-span-2">
        <label class="block text-sm font-medium mb-2">–°–∏–ª–∞ –¥–≤–∏–∂–µ–Ω–∏—è</label>
        <div id="motion-options" class="flex flex-wrap gap-2">
          <button type="button" class="px-3 py-1.5 rounded-xl border border-[var(--bord)] bg-[var(--bg-card)] text-xs sm:text-sm hover:border-primary/60 hover:text-primary motion-pill" data-value="20">–ù–µ–∂–Ω–æ</button>
          <button type="button" class="px-3 py-1.5 rounded-xl border border-[var(--bord)] bg-[var(--bg-card)] text-xs sm:text-sm hover:border-primary/60 hover:text-primary motion-pill" data-value="40">–ú—è–≥–∫–æ</button>
          <button type="button" class="px-3 py-1.5 rounded-xl border border-[var(--bord)] bg-[var(--bg-card)] text-xs sm:text-sm hover:border-primary/60 hover:text-primary motion-pill" data-value="60">–°—Ä–µ–¥–Ω–µ</button>
          <button type="button" class="px-3 py-1.5 rounded-xl border border-[var(--bord)] bg-[var(--bg-card)] text-xs sm:text-sm hover:border-primary/60 hover:text-primary motion-pill" data-value="80">–ê–∫—Ç–∏–≤–Ω–æ</button>
          <button type="button" class="px-3 py-1.5 rounded-xl border border-[var(--bord)] bg-[var(--bg-card)] text-xs sm:text-sm hover:border-primary/60 hover:text-primary motion-pill" data-value="100">–ú–∞–∫—Å</button>
        </div>
        <!-- –•—Ä–∞–Ω–∏–º –≤—ã–±—Ä–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ -->
        <input type="hidden" id="video-motion-strength" value="45">
      </div>
    </div>
  </div>

  <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–¥–µ–ª–∏ -->
  <div id="advanced-params-section" class="rounded-xl border border-[var(--bord)] bg-[var(--bg-card)] p-4 sm:p-5 space-y-4" style="display: none;">
    <div class="flex items-center gap-2 pb-3 border-b border-[var(--bord)]">
      <svg class="w-5 h-5 text-primary flex-shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"/>
      </svg>
      <h3 class="text-sm sm:text-base font-semibold text-[var(--text)]">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</h3>
    </div>

    <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4">

      <!-- FPS -->
      <div id="fps-param" class="space-y-1.5" style="display: none;">
        <label class="block text-xs sm:text-sm font-medium text-[var(--text)]" for="video-fps">
          <span class="flex items-center gap-1.5">
            <svg class="w-3.5 h-3.5 text-primary flex-shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10"/>
              <path d="M12 6v6l4 2"/>
            </svg>
            <span>FPS (–∫–∞–¥—Ä–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É)</span>
          </span>
        </label>
        <select id="video-fps" class="field w-full text-xs sm:text-sm h-9 sm:h-10 rounded-lg border border-[var(--bord)] bg-[var(--bg-card)] px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary/50 transition-all appearance-none">
          <!-- –û–ø—Ü–∏–∏ –±—É–¥—É—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∏–∑ JS –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –º–æ–¥–µ–ª–∏ -->
          <option value="15">15 FPS</option>
          <option value="24">24 FPS</option>
          <option value="30" selected>30 FPS</option>
          <option value="60">60 FPS</option>
          <option value="90">90 FPS</option>
          <option value="120">120 FPS</option>
        </select>
        <p id="fps-hint" class="text-[10px] sm:text-xs text-[var(--muted)] mt-1" style="display: none;">
          –î–æ—Å—Ç—É–ø–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è FPS –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –≤—ã–±—Ä–∞–Ω–Ω–æ–π –º–æ–¥–µ–ª—å—é
        </p>
      </div>

      <!-- Guidance Scale -->
      <div id="guidance-scale-param" class="space-y-1.5" style="display: none;">
        <label class="block text-xs sm:text-sm font-medium text-[var(--text)]" for="video-guidance-scale">
          <span class="flex items-center gap-1.5">
            <svg class="w-3.5 h-3.5 text-primary flex-shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 2v20M2 12h20"/>
              <circle cx="12" cy="12" r="3"/>
            </svg>
            <span>Guidance Scale</span>
          </span>
        </label>
        <input type="number" id="video-guidance-scale" class="field w-full text-xs sm:text-sm h-9 sm:h-10 rounded-lg border border-[var(--bord)] bg-[var(--bg-card)] px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary/50 transition-all" placeholder="7.5" min="1" max="20" step="0.1">
      </div>

      <!-- Inference Steps -->
      <div id="inference-steps-param" class="space-y-1.5" style="display: none;">
        <label class="block text-xs sm:text-sm font-medium text-[var(--text)]">
          <span class="flex items-center gap-1.5">
            <svg class="w-3.5 h-3.5 text-primary flex-shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M3 12h4l3 9 4-18 3 9h4"/>
            </svg>
            <span>–®–∞–≥–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏</span>
          </span>
        </label>
        <div class="moon-slider-container">
          <div class="flex items-center gap-3 sm:gap-4">
            <input
              type="range"
              id="video-inference-steps"
              class="moon-slider flex-1"
              min="10"
              max="100"
              value="50"
              step="1"
              data-value-id="video-inference-steps-value"
            >
            <div class="moon-slider-value">
              <span id="video-inference-steps-value" class="moon-slider-value-number">50</span>
              <span class="moon-slider-value-unit">—à–∞–≥–æ–≤</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Quality -->
      <div id="quality-param" class="space-y-1.5" style="display: none;">
        <label class="block text-xs sm:text-sm font-medium text-[var(--text)]">
          <span class="flex items-center gap-1.5">
            <svg class="w-3.5 h-3.5 text-primary flex-shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
            </svg>
            <span>–ö–∞—á–µ—Å—Ç–≤–æ</span>
          </span>
        </label>
        <div class="moon-slider-container">
          <div class="flex items-center gap-3 sm:gap-4">
            <input
              type="range"
              id="video-quality"
              class="moon-slider flex-1"
              min="0"
              max="4"
              value="2"
              step="1"
              data-value-id="video-quality-value"
              data-labels='["–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é", "–ù–∏–∑–∫–æ–µ", "–°—Ä–µ–¥–Ω–µ–µ", "–í—ã—Å–æ–∫–æ–µ", "–£–ª—å—Ç—Ä–∞"]'
            >
            <div class="moon-slider-value">
              <span id="video-quality-value" class="moon-slider-value-number">–°—Ä–µ–¥–Ω–µ–µ</span>
            </div>
          </div>
        </div>
        <input type="hidden" id="video-quality-hidden" value="medium">
      </div>

      <!-- Style -->
      <div id="style-param" class="space-y-1.5" style="display: none;">
        <label class="block text-xs sm:text-sm font-medium text-[var(--text)]" for="video-style">
          <span class="flex items-center gap-1.5">
            <svg class="w-3.5 h-3.5 text-primary flex-shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343"/>
              <path d="M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"/>
            </svg>
            <span>–°—Ç–∏–ª—å</span>
          </span>
        </label>
        <select id="video-style" class="field w-full text-xs sm:text-sm h-9 sm:h-10 rounded-lg border border-[var(--bord)] bg-[var(--bg-card)] px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary/50 transition-all appearance-none">
          <option value="">–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é</option>
          <option value="realistic">–†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π</option>
          <option value="anime">–ê–Ω–∏–º–µ</option>
          <option value="cartoon">–ú—É–ª—å—Ç—è—à–Ω—ã–π</option>
          <option value="cinematic">–ö–∏–Ω–µ–º–∞—Ç–æ–≥—Ä–∞—Ñ–∏—á–Ω—ã–π</option>
          <option value="artistic">–•—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π</option>
        </select>
      </div>

      <!-- Output Format -->
      <div id="output-format-param" class="space-y-1.5" style="display: none;">
        <label class="block text-xs sm:text-sm font-medium text-[var(--text)]" for="video-output-format">
          <span class="flex items-center gap-1.5">
            <svg class="w-3.5 h-3.5 text-primary flex-shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/>
              <path d="M14 2v6h6"/>
              <path d="M12 18v-6"/>
              <path d="M9 15l3 3 3-3"/>
            </svg>
            <span>–§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞</span>
          </span>
        </label>
        <select id="video-output-format" class="field w-full text-xs sm:text-sm h-9 sm:h-10 rounded-lg border border-[var(--bord)] bg-[var(--bg-card)] px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary/50 transition-all appearance-none">
          <option value="mp4">MP4</option>
          <option value="webm">WebM</option>
          <option value="gif">GIF</option>
        </select>
      </div>
    </div>

    <!-- Negative Prompt -->
    <div id="negative-prompt-param" class="space-y-1.5" style="display: none;">
      <label class="block text-xs sm:text-sm font-medium text-[var(--text)]" for="video-negative-prompt">
        <span class="flex items-center gap-1.5">
          <svg class="w-3.5 h-3.5 text-primary flex-shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="10"/>
            <path d="M15 9l-6 6M9 9l6 6"/>
          </svg>
          <span>–ù–µ–≥–∞—Ç–∏–≤–Ω—ã–π –ø—Ä–æ–º–ø—Ç</span>
          <span class="text-[10px] sm:text-[11px] text-[var(--muted)] font-normal">(—á—Ç–æ –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤ –≤–∏–¥–µ–æ)</span>
        </span>
      </label>
      <textarea id="video-negative-prompt" class="field w-full min-h-20 resize-none text-xs sm:text-sm rounded-lg border border-[var(--bord)] bg-[var(--bg-card)] px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary/50 transition-all" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: blurry, low quality, distorted, watermark"></textarea>
    </div>
  </div>

  <!-- –ü–æ–¥—Å–∫–∞–∑–∫–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
  <div class="mt-2 rounded-xl border border-[var(--bord)] bg-[var(--bg-card)] p-3 text-xs text-[var(--muted)]">
        –†–µ–∑—É–ª—å—Ç–∞—Ç—ã (—Ñ–æ—Ç–æ) —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ 24 —á–∞—Å–∞. –ü–æ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ —Å—Ä–æ–∫–∞ –æ—á–µ—Ä–µ–¥—å –æ—á–∏—â–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –î–∞–Ω–Ω—ã–µ –Ω–µ –ø–æ–∫–∏–¥–∞—é—Ç –≤–∞—à –±—Ä–∞—É–∑–µ—Ä.
      </div>

  <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (–ø–ª–∏—Ç–∫–∏) -->
  <div class="flex items-center justify-between mt-2">
    <h4 class="text-sm font-medium">–û—á–µ—Ä–µ–¥—å –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</h4>
    <button type="button" id="clear-video-queue-btn" class="px-3 py-1.5 rounded-lg border border-[var(--bord)] bg-[var(--bg-card)] text-xs sm:text-sm hover:border-primary/60 hover:text-primary transition">
      –û—á–∏—Å—Ç–∏—Ç—å –æ—á–µ—Ä–µ–¥—å
    </button>
  </div>
  <div id="video-results-grid" class="grid grid-cols-1 xs:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4"></div>

  <style>
    /* –£–º–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ –∫–∞—Ä—Ç–æ—á–µ–∫ */
    #video-results-grid .video-result-tile {
      width: 100%;
    }

    /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤–∏–¥–µ–æ - aspect-ratio 16:9 –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –ø—Ä–æ–ø–æ—Ä—Ü–∏–π */
    .video-tile-container {
      aspect-ratio: 16/9;
      position: relative;
      overflow: hidden;
    }

    /* Hover —ç—Ñ—Ñ–µ–∫—Ç –¥–ª—è –∫–Ω–æ–ø–∫–∏ play */
    .play-btn-inner:hover {
      background: rgba(0,0,0,0.7) !important;
      transform: scale(1.1);
    }

    /* Hover –¥–ª—è –∫–Ω–æ–ø–∫–∏ –æ—Ç–∫—Ä—ã—Ç—å */
    a[target="_blank"]:hover {
      background: rgba(0,0,0,0.8) !important;
    }

    /* Hover –¥–ª—è –∫–Ω–æ–ø–∫–∏ –∑–≤—É–∫–∞ */
    .volume-toggle-btn:hover {
      background: rgba(0,0,0,0.7) !important;
    }

    /* Hover –¥–ª—è –∫–Ω–æ–ø–∫–∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å */
    .persist-btn:hover {
      background: rgba(var(--primary-rgb, 99, 102, 241), 1) !important;
    }

    /* –ú–æ–±–∏–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ */
    @media (max-width: 640px) {
      #video-results-grid {
        gap: 0.875rem;
      }

      /* –ö–æ–º–ø–∞–∫—Ç–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –∫–Ω–æ–ø–æ–∫ –¥–ª—è —Ç–∞—á–∞ */
      .video-play-btn .play-btn-inner {
        width: 2.75rem !important;
        height: 2.75rem !important;
        background: rgba(0,0,0,0.55) !important;
      }

      .video-play-btn .play-btn-inner svg {
        width: 1.125rem !important;
        height: 1.125rem !important;
      }

      .volume-toggle-btn {
        width: 2.25rem !important;
        height: 2.25rem !important;
        bottom: 0.5rem !important;
        left: 0.5rem !important;
        right: auto !important;
        background: rgba(0,0,0,0.55) !important;
      }

      .volume-toggle-btn svg {
        width: 1rem !important;
        height: 1rem !important;
      }

      a[target="_blank"] {
        width: 2.25rem !important;
        height: 2.25rem !important;
        top: 0.5rem !important;
        right: 0.5rem !important;
        background: rgba(0,0,0,0.55) !important;
      }

      a[target="_blank"] svg {
        width: 1rem !important;
        height: 1rem !important;
      }

      /* –ö–æ–º–ø–∞–∫—Ç–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã */
      .video-tile-container {
        padding: 0;
      }

      /* –ö–Ω–æ–ø–∫–∞ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å - –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π —Ç–µ–∫—Å—Ç –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
      .persist-btn-text-full {
        display: none !important;
      }

      .persist-btn-text {
        display: inline !important;
      }

      .persist-btn {
        font-size: 0.875rem !important;
        padding: 0.625rem 0.875rem !important;
        min-height: 44px !important;
      }
    }

    /* –î–µ—Å–∫—Ç–æ–ø - –ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç */
    @media (min-width: 641px) {
      .persist-btn-text {
        display: none !important;
      }

      .persist-btn-text-full {
        display: inline !important;
      }
    }

    /* –û—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏–µ —ç–∫—Ä–∞–Ω—ã */
    @media (max-width: 375px) {
      .video-play-btn .play-btn-inner {
        width: 4rem !important;
        height: 4rem !important;
      }

      .volume-toggle-btn,
      a[target="_blank"] {
        width: 2.25rem !important;
        height: 2.25rem !important;
      }
    }
  </style>

  <!-- –ö–Ω–æ–ø–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ -->
  <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 pt-4 border-t border-[var(--bord)]">
    <div class="flex items-center gap-3 text-sm text-[var(--muted)]">
      <svg class="w-4 h-4 text-primary" viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 2M12 6a9 9 0 100 18 9 9 0 000-18zM12 2v2" />
      </svg>
      <span>–û–±—ã—á–Ω–æ –æ—Ç 1 –¥–æ 3 –º–∏–Ω—É—Ç</span>
    </div>
    <button type="button" id="generate-video-btn" class="btn btn-primary px-8 py-3 w-full sm:w-auto text-base">
      <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"/>
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
      </svg>
      –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≤–∏–¥–µ–æ
    </button>
  </div>

</div>

<script>
// –û–±—Ä–∞–±–æ—Ç–∫–∞ —à—Ç–æ—Ä–∫–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–ª—è –≤–∏–¥–µ–æ
document.addEventListener('DOMContentLoaded', function() {
  const toggleBtn = document.getElementById('toggle-video-advanced-params');
  const advancedContent = document.getElementById('video-advanced-params-content');
  const advancedIcon = document.getElementById('video-advanced-params-icon');

  if (toggleBtn && advancedContent && advancedIcon) {
    toggleBtn.addEventListener('click', function() {
      const isHidden = advancedContent.classList.contains('hidden');

      if (isHidden) {
        advancedContent.classList.remove('hidden');
        advancedIcon.style.transform = 'rotate(180deg)';
      } else {
        advancedContent.classList.add('hidden');
        advancedIcon.style.transform = 'rotate(0deg)';
      }
    });
  }
});
</script>
